<?xml version="1.0"?>
<document>
  <properties>
    <title>Changes</title>
    <author email="mpoeschl@marmot.at">Martin Poeschl</author>
    <author email="seade@backstagetech.com.au">Scott Eade</author>
  </properties>

  <body>

    <release version="3.2-alpha" date="in CVS">
      <action dev='seade' type='update'>
        Addressed a number of issues highlighted by 
        <a href="http://findbugs.sourceforge.net/">FindBugs</a> in generated 
        source code.
      </action>
      <action dev='seade' type='update'>
        Upgrade to and xerces-2.4.0.
      </action>
      <action dev='seade' type='add'>
        HSQL adapter enhancements: added support for case-insensitive queries
        and cascading deletes.  Thanks to Patrick Carl for the patch.
      </action>
      <action dev='seade' type='fix'>
        HSQL adapter fix: correction to the generated CREATE TABLE DDL when 
        using IDENTITY columns.  Thanks to Patrick Carl for the patch.
      </action>
      <action dev='seade' type='fix'>
        TRQS185: Corrected handling of BIT with PostgreSQL.  Note that the
        solution implemented has been tested under MySLQ and PostgreSQL only.
      </action>
      <action dev='seade' type='add'>
        The <code>adapter</code> property is now used in preference to 
        <code>driver</code> when building the database map.  This allows Torque
        to work when the driver setting is not what it expects - e.g. if using 
        <code>com.mysql</code> driver instead of the 
        <code>org.gjt.mm.mysql</code> or when using 
        <a http="http://www.p6spy.org/">P6Spy</a> pass through driver for 
        performance monitoring.  Thanks to Ben Hogan for the patch.
      </action>
      <action dev='seade' type='fix'>
        Multiple unique constraints and indexes on a single table are now 
        allocated sequential names (previously duplicate names were being 
        allocated).
      </action>
      <action dev='seade' type='fix'>
        Generate sequences correctly for PostgreSQL (i.e. leave it to 
        PostgreSQL).  Note that schemas produced from the database using
        the <code>torque:jdbc</code> goal are not yet handling sequences
        correctly.
      </action>
      <action dev='henning' type='update'>
        Upgrade to commons-collections-3.0, commons-configuration-1.0-rc1 and
        commons-logging-1.0.4.
      </action>
      <action dev='seade' type='fix'>
        TRQD26: Problems with Torque tutorial.  The Torque tutorial has been 
        updated to reflect the separated generator and runtime components and
        to use the Maven plugin.
      </action>
      <action dev='seade' type='fix'>
        The generator logging configuration has been changed from DEBUG to INFO 
        - this will make the day of all those people that for some reason have 
        the torque-gen jar in their classpath at runtime.  <b>Hint: You don't
        need this jar to use the Torque generated object model classes.</b>
      </action>
      <action dev='mpoeschl' type='fix'>
        TRQS223: The get${pVarName} method in the Object.vm template does not 
        return related objects with a negative PK.  Thanks to Nick Curry for
        the patch.
      </action>
      <action dev='seade' type='add'>
        DB2 limit and offset support.  Thanks to Augustin Vidovic for the patch.
      </action>
      <action dev='seade' type='fix'>
        Fix NOT_LIKE with no wildcard bug.
      </action>
      <action dev='mpoeschl' type='fix'>
        TRQS97: Fix bad syntax in generated model when using primary keys of
        short or byte.
      </action>
      <action dev='mpoeschl' type='fix'>
        TRQS190: Error on "byte" data type generation rules.
      </action>
      <action dev='mpoeschl' type='remove'>
        Remove support for old properties (properties without 'torque.' prefix)
      </action>
      <action dev='mpoeschl' type='remove'>
        Remove support for idMethod=sequence and autoincrement.
      </action>
      <action dev='mpoeschl' type='add'>
        TRQS146: Support for scale.
      </action>
      <action dev='mpoeschl' type='remove'>
        Remove support for stratum lifecycle interfaces.
      </action>
      <action dev='mpoeschl' type='add'>
        TRQS163: Add domain element to schema.xml. Domains are used to define 
        attributes for columns.
      </action>
      <action dev='mpoeschl' type='update'>
        Upgrade to commons-lang-2.0
      </action>
      <action dev='mpoeschl' type='update'>
        Upgrade to commons-pool-1.1 and commons-dbcp-1.1
      </action>
      <action dev='mpoeschl' type='update'>
        Refactored generator model (removed AppData class)
      </action>
      <action dev='mpoeschl' type='fix'>
        TRQS180: NumberKey long constructor introduces rounding errors.
      </action>
      <action dev='mpoeschl' type='remove'>
        Removed the deprecated connection pool (commons-dbcp is used as
        default since 3.1)
      </action>
      <action dev='mpoeschl' type='add'>
        Changed ojb-model task to generate Object + BaseObject (like for the 
        torque om).
      </action>
      <action dev='mpoeschl' type='fix'>
        Fix package name for TorqueComponent in roleConfiguration.xml
      </action>
      <action dev='mpoeschl' type='remove'>
        Removed PasePeer.DEFAULT_MAP_BUILDER and BasePeer.getMapBuilder()
      </action>
      <action dev='seade' type='update'>
        TRQS149: For PostgreSQL the LONGVARCHAR datatype now maps to 
        <em>text</em> rather than <em>bytea</em>.
      </action>
      <action dev='seade' type='update'>
        Case insensitive LIKE comparisons now use ILIKE for PostgreSQL.
      </action>
      <action dev='seade' type='fix'>
        A minor template change has been made to correctly allow 
        Base[TableName]Peer.doDelete(criteria, connection) to be overridden in 
        [TableName]Peer.
      </action>
    </release>
  </body>
</document>

