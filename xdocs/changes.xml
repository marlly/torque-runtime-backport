<?xml version="1.0"?>

<document>

  <properties>
    <title>Torque</title>
    <author email="mpoeschl@marmot.at">Martin Poeschl</author>
  </properties>

  <body>

<section name="Torque 3.0-rc2">
<p>
  Changes between Torque 3.0-rc1 and 3.0-rc2. <br/>
</p>

<subsection name="Changes that could (will) break older environments">
<p>
  <ul>
    <li>
      TRQ2: the TorqueSQLExec task ignores lines starting with '//', '--' or
      'REM ' (notice the space!!).
    </li>
  </ul>
</p>
</subsection>

<subsection name="Other changes">
<p>
  <ul>
    <li>
      TRQ24: added doDelete(ObjectKey) methods to the generated Peers.
    </li>
    <li>
      Added a Maven plugin for executing Torque commands and updated the
      <a href="maven-howto.html">Maven Howto</a> to reflect the addition.
    </li>
    <li>
      Added support for MS Access (using the JDBC-ODBC Bridge driver).
    </li>
    <li>
      Upgraded village to 2.0-dev.
    </li>
  </ul>
</p>
</subsection>

<subsection name="Fixed bugs">
<p>
  <ul>
    <li>
      TRQ37: Problem retrieving object/row count using Criteria
    </li>
    <li>
      TRQD6: update README (ant 1.5 is required)
    </li>
    <li>
      TRQS68: remove invalid pathelement in build-torque.xml
    </li>
    <li>
      TRQS75: Object.vm generates files which will not compile.
    </li>
    <li>
      TRQS77: postgres - Incosistent generation errors
    </li>
    <li>
      When generating an XML schema from a SQL Schema, the output xml
      contains a javaname attribute (notice the lowercase "n" in javaname)
    </li>
    <li>
      Doc generation (anakia format): escape characters not allowed in XML
    </li>
  </ul>
</p>
</subsection>
</section>

<section name="Torque 3.0-rc1">
<p>
  Changes between Torque 3.0-b4 and 3.0-rc1. <br/>
</p>

<subsection name="Changes that could (will) break older environments">
<p>
  <ul>
    <li>
      TRQ41: make getPrimaryKey return ObjectKey but getPkField return the type
      it is.
    </li>
    <li>
      TRQS37: Torque 3.0 doesn't work with Intake in Turbine 2.x's Retrievable
      interface. Added a property <code>torque.retrievableInterface</code>
      (defaults to the turbine-2 version). <br/>
      Fulcrum users have to set the property to
      <code>org.apache.fulcrum.intake.Retrievable</code>
    </li>
  </ul>
</p>
</subsection>

<subsection name="Other changes">
<p>
  <ul>
    <li>
      TRQ45: Added static factory methods to create instances of SimpleKey
    </li>
    <li>
      TRQS7: minor corrections for OJB template
    </li>
    <li>
      TRQS13: torque.overloadKeySetters obsoleted
    </li>
    <li>
      added support for the new com.mysql.jdbc.Driver
    </li>
    <li>
      improved JDBC to DB2 mappings.
    </li>
    <li>
      improved JDBC to SAPDB mappings (incl. TRQ35).
    </li>
    <li>
      peers: do not create the JoinAll method if any of the foreign keys
      reference external tables.
    </li>
    <li>
      new property 'torque.generateDeprecated' ( = 'true'). <br/>
      if set to 'false' deprecated methods in the om/peer classes are not
      generated
    </li>
  </ul>
</p>
</subsection>

<subsection name="Fixed bugs">
<p>
  <ul>
    <li>
      TRQ44: Fix ComboKey.setValue(String) to avoid infinite loop
    </li>
    <li>
      TRQ26: string to date conversion in MSSQL/Sybase
    </li>
    <li>
      TRQ28: booleanint/booleanchar fails with javaType="object"
    </li>
    <li>
      TRQ31: ComboKey(String) ctor out-of-memory error
    </li>
    <li>
      TRQ39: Data Dump task may generate invalid XML output
    </li>
    <li>
      TRQ44: add a NumberKey(Number key) constructor and added methods to get
      native datatypes (byte, int, long, float, double)
    </li>
    <li>
      TRQ45: add static keyFor methods to generate appropriate SimpleKey
      instance
    </li>
    <li>
      TRQS1: several small patches to correct db2 sql generation
    </li>
    <li>
      TRQS15: Torque gererated code does not compile
    </li>
    <li>
      TRQS33: fix foreign key generation statements for db2
    </li>
    <li>
      TRQS40: id-table-init-sql creates empty .sql file
    </li>
    <li>
      bugzilla #12626: Peer.vm was missing the DateKey import.
    </li>
    <li>
      postgres: Unable to identify an operator '=' for types 'smallint' and
      'boolean'
    </li>
    <li>
      sapdb: generate valid sql for primary keys
    </li>
    <li>
      objects: avoid npe and set id to null if the object was null
    </li>
    <li>
      objects: the generation of the BaseClass and the Interface is working even
      if the Interface is empty.
    </li>
  </ul>
</p>
</subsection>
</section>

<section name="Torque 3.0-b4">
<p>
  Changes between Torque 3.0-b3 and 3.0-b4.
</p>

<subsection name="Changes that could (will) break older environments">
<p>
  <ul>
    <li>
      jdbc2pool package dissolved (the old Torque pool is back in the torque
      codebase, the new pool is part of commons-dbcp now)
    </li>
  </ul>
</p>
</subsection>

<subsection name="Other changes">
<p>
  <ul>
    <li>
      torque uses maven-1.0-beta-6 as default build system.
    </li>
    <li>
      renamed all properties (torque prefix added). <br/>
      the old property names still work but they are deprecated and support will
      be removed after the 3.0 release.
    </li>
  </ul>
</p>
</subsection>

<subsection name="Fixed bugs">
<p>
  <ul>
    <li>
      aliases not recognized in orderBy column
    </li>
  </ul>
</p>
</subsection>
</section>

<section name="Torque 3.0-b3">
<p>
  Changes between Torque 2.1 (old version from turbine-2 repo) and 3.0-b3.
</p>

<p>
  This list should help to move your application from Torque 2.1 to 3.0.
  If you find any other issues, please send an email to the developer list.
</p>

<subsection name="new package names">
<table>
  <tr>
    <th>old name</th>
    <th>new name</th>
  </tr>
  <tr>
    <td>org.apache.turbine.torque.*</td>
    <td>org.apache.torque.*</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.adapter.*</td>
    <td>org.apache.torque.adapter.*</td>
  </tr>
  <tr>
    <td>org.apache.turbine.services.db.TurbineDB</td>
    <td>org.apache.torque.Torque</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.map.IDMethod</td>
    <td>org.apache.torque.adapter.IDMethod</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.map.MapBuilder</td>
    <td>org.apache.torque.map.MapBuilder</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.map.ColumnMap</td>
    <td>org.apache.torque.map.ColumnMap</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.map.DatabaseMap</td>
    <td>org.apache.torque.map.DatabaseMap</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.map.TableMap</td>
    <td>org.apache.torque.map.TableMap</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.Persistent</td>
    <td>org.apache.torque.om.Persistent</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.Retrievable</td>
    <td><i>removed</i></td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.Retriever</td>
    <td><i>removed</i></td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.RetrieverFactory</td>
    <td><i>removed</i></td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.BaseObject</td>
    <td>org.apache.torque.om.</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.ComboKey</td>
    <td>org.apache.torque.om.ComboKey</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.DateKey</td>
    <td>org.apache.torque.om.DateKey</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.NumberKey</td>
    <td>org.apache.torque.om.NumberKey</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.ObjectKey</td>
    <td>org.apache.torque.om.ObjectKey</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.SimpleKey</td>
    <td>org.apache.torque.om.SimpleKey</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.StringKey</td>
    <td>org.apache.torque.om.StringKey</td>
  </tr>
  <tr>
    <td>org.apache.turbine.om.peer.BasePeer</td>
    <td>org.apache.torque.util.BasePeer</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.IdGenerator</td>
    <td>org.apache.torque.oid.IdGenerator</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.AutoIncrementIdGenerator</td>
    <td>org.apache.torque.oid.AutoIncrementIdGenerator</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.Criteria</td>
    <td>org.apache.torque.util.Criteria</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.IDBroker</td>
    <td>org.apache.torque.oid.IDBroker</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.IDGeneratorFactory</td>
    <td>org.apache.torque.oid.IDGeneratorFactory</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.LargeSelect</td>
    <td>org.apache.torque.util.LargeSelect</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.Query</td>
    <td>org.apache.torque.util.Query</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.SequenceIdGenerator</td>
    <td>org.apache.torque.oid.SequenceIdGenerator</td>
  </tr>
  <tr>
    <td>org.apache.turbine.util.db.SqlExpression</td>
    <td>org.apache.torque.util.SqlExpression</td>
  </tr>
</table>
</subsection>

<subsection name="Changes that could (will) break older environments">
<p>
  <ul>
    <li>
      API changed: Torque uses List instead of Vector. <br/>
      e.g. BasePeer.doSelect() returns a List now
    </li>
    <li>
      the pool packages has been removed <br/>
      commons-jdbc2pool is used instead.
    </li>
  </ul>
</p>
</subsection>

<subsection name="Other changes">
<p>
  <ul>
    <li>
      new idMethod NATIVE. this replaces SEQUENCE and AUTOINCREMENT
    </li>
    <li>
      support for axion added
    </li>
  </ul>
</p>
</subsection>

<subsection name="Fixed bugs">
<p>
  <ul>
    <li>
      fixed logging when category is null.
    </li>
  </ul>
</p>
</subsection>

</section>

<section name="Changes">
      <p>
        <ul>
          <li>
            <strong>16 Apr 2002</strong>
            <ul>
              <li>
                Use JCS instead of stratum.JCS and
                commons.configuration instead of
                stratum.configuration. (ks)
              </li>
            </ul>
          </li>
          <li>
            <strong>17 Mar 2002</strong>
            <ul>
              <li>
                Fix from Bill Schneider (bschneider NOSPAM vecna.com)
                to correct date handling in the DBOracle database
                adapter. (dlr)
              </li>
            </ul>
          </li>

          <li>
            <strong>07 Mar 2002</strong>
            <ul>
              <li>
                Modified the Oracle db.props to set the VARBINARY type
                to BLOB because Oracle requires a length limit for RAW.
                Suggestion by: thierry.lach NOSPAM pentamark.com on the
                Scarab mailing list.
              </li>
            </ul>
          </li>

          <li>
            <strong>01 Mar 2002</strong>
            <ul>
              <li>
                Modified most places that torque was throwing the general
                exception in favor of TorqueException
              </li>
            </ul>
          </li>

          <li>
            <strong>21 Feb 2002</strong>
            <ul>
              <li>
                Handling of object data no longer needs to be wrapped in a
                transaction when the Postgres bytea type is used instead of the
                oid hack for the JDBC type VARBINARY.
              </li>
              <li>
                Deprecated DB.objectDataNeedsTrans(). Postgres was the only
                RDBMS using the objectDataNeedsTrans() method.
              </li>
              <li>
                Removed use of objectDataNeedsTrans() in BasePeer
              </li>
              <li>
                Added load-templates for SAPDB
              </li>
            </ul>
          </li>

          <li>
            <strong>16 Feb 2002</strong>
            <ul>
              <li>
                Fix TorqueDataSQLTask (Column names were not generated)
              </li>
              <li>
                Fix Path handling in TorqueSQLExec task
              </li>
              <li>
                Better mapping of binary data types for Postgres
              </li>
            </ul>
          </li>

          <li>
            <strong>12 Feb 2002</strong>
            <ul>
              <li>
                made Category static so that Criteria can be serialized
              </li>
            </ul>
          </li>

          <li>
            <strong>6 Feb 2002</strong>
            <ul>
              <li>
                Make Torque implement Configurable and Initializeable (stratum)
              </li>
              <li>
                Use the stratum.configuration package instead of ExtendedProperties
              </li>
            </ul>
          </li>

          <li>
            <strong>28 Jan 2002</strong>
            <ul>
              <li>
                Using JAXP api.  Lost feature of conditional validation.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/transform/XmlToAppData.java.diff?r1=1.9&amp;r2=1.10">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/transform/XmlToData.java.diff?r1=1.2&amp;r2=1.3">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/rttest/id-table-schema.xml.diff?r1=1.1&amp;r2=1.2">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/schema/id-table-schema.xml.diff?r1=1.3&amp;r2=1.4">Reference</a>.
              </li>
              <li>
                Moved to Xerces2.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/build-test.diff?r1=1.21&amp;r2=1.22">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/build.diff?r1=1.30&amp;r2=1.31">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/default.properties.diff?r1=1.14&amp;r2=1.15">Reference</a>.
              </li>
            </ul>
          </li>

          <li>
            <strong>20 Jan 2002</strong>
            <ul>
              <li>
                Made SqlEnum implement Serializable (to facilitate
                easy HttpSession serialization).
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/util/SqlEnum.java.diff?r1=1.3&amp;r2=1.4">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>18 Dec 2001</strong>
            <ul>
              <li>
                add 'description' attribute to &lt;table&gt; and &lt;column&gt;
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/dtd/database.dtd.diff?r1=1.7&amp;r2=1.8&amp;sortby=date&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/model/Column.java.diff?r1=1.15&amp;r2=1.16&amp;sortby=date&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/model/Table.java.diff?r1=1.19&amp;r2=1.20&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Added TorqueDocumentationTask to generate schema docs in html or xml (anakia)
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/task/TorqueDocumentationTask.java?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/Control.vm?rev=1.2&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/html/datamodel.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/html/table.vm?rev=1.2&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/anakia/datamodel.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/anakia/table.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/conf/build.xml.diff?r1=1.20&amp;r2=1.21&amp;sortby=date&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/conf/build.properties.diff?r1=1.7&amp;r2=1.8&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>14 Dec 2001</strong>
            <ul>
              <li>
            From patch submitted by Byron Foster:  Updated DBFactory to know about the other Sybase jdbc driver name.
            <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/adapter/DBFactory.java.diff?r1=1.18&amp;r2=1.19&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
              <li>
            From patch submitted by Byron Foster:  Sybase is not fully jdbc 2.0 compliant, so the TorqueDataDumpTask.TableTool needed to be reimplemented using Village.
                This provided support for any jdbc driver that Village supports ( and Torque since it is currently implemented with Village ).  The downside to this implementation is QueryDataSet
                loads the entire result set into memory, so for large tables this may prove to be trouble.
            <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/task/TorqueDataDumpTask.java.diff?r1=1.5&amp;r2=1.6&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                From patch submitted by Byron Foster:  Added missing pieces of sybase support to the repository and created a sybase-status document in notes.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/sybase/">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/db-init/sybase/createdb.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/profile/sybase.profile?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/notes/sybase-status.txt?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>13 Dec 2001</strong>
            <ul>
              <li>
                added flag to shut off heavy indexing on a table by table basis or for the entire schema.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/dtd/database.dtd.diff?r1=1.6&amp;r2=1.7&amp;sortby=date&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/model/Database.java.diff?r1=1.7&amp;r2=1.8&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>9 Dec 2001</strong>
            <ul>
              <li>
                Modified Peer classes so that they can be unserialized prior
                to Torque being initialized.  This situation occurs when
                restarting catalina for example.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.40&amp;r2=1.41&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/util/BasePeer.java.diff?r1=1.18&amp;r2=1.19&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/om/Peer.vm.diff?r1=1.11&amp;r2=1.12&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                deprecated getTable and get&lt;columnName&gt; methods in MapBuilder.vm
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/om/MapBuilder.vm.diff?r1=1.5&amp;r2=1.6&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>6 Dec 2001</strong>
            <ul>
              <li>
                consolidated all Class member initializations methods in
                generated peers into a single method, and improved the
                error handling and reporting of that method.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/om/Peer.vm.diff?r1=1.10&amp;r2=1.11&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                add oracle suport for DataSQLTask
                patch by Dan.Everton@Australia.Boeing.com
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/oracle/row.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/oracle/val.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
              </li>
              <li>
                fixed path problems in TorqueDataSQLTask
                patch by Dan.Everton@Australia.Boeing.com
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/task/TorqueDataSQLTask.java.diff?r1=1.5&amp;r2=1.6&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>16 Nov 2001</strong>
            <ul>
              <li>
                used db specific templates for data SQL generation
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/hypersonic/row.vm.diff?r1=1.1&amp;r2=1.2&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/mssql/row.vm.diff?r1=1.1&amp;r2=1.2&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/postgresql/row.vm.diff?r1=1.1&amp;r2=1.2&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>15 Nov 2001</strong>
            <ul>
              <li>
                fixing SQL generation problem where a table has no primary key
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/base/mysql/table.vm.diff?r1=1.2&amp;r2=1.3&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/base/mysql/primarykey.vm.diff?r1=1.2&amp;r2=1.3&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/model/Table.java.diff?r1=1.16&amp;r2=1.17&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                removed the use of non-functional double-checked locking in
                Torque.getDatabaseMap(String). <br/>
                made Torque.initDatabaseMap(String) more robust by copying the
                existing HashMap dbMaps to avoid possible CMEs.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.39&amp;r2=1.40&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>12 Nov 2001</strong>
            <ul>
              <li>
                Made the driver -> adapter map complete. Thanks to
                Hugh Brien for spotting the problem.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/adapter/DBFactory.java.diff?r1=1.15&amp;r2=1.16&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Added support for Cloudscape. Thanks to David Sean Taylor from
                the Jetspeed group.
              </li>
            </ul>
          </li>
          <li>
            <strong>11 Nov 2001</strong>
            <ul>
              <li>
                Cleaned up the initialization sequence too allow a common
                pattern for stand-alone and embedded usage.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.37&amp;r2=1.38&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>8 Nov 2001</strong>
            <ul>
              <li>
                Remove get/setCategory(c) in Torque.java and updated all
                classes that relied on these methods to instantiate their
                own Category for logging.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.32&amp;r2=1.33&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/pool/DBConnection.java.diff?r1=1.4&amp;r2=1.5&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/util/Criteria.java.diff?r1=1.7&amp;r2=1.8&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Merged the init() and init2() methods together. We will
                still search in the "services.DatabaseService" namespace
                until Scarab switches over to using the "torque" namespace.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.31&amp;r2=1.32&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Added support to specify the schema used to get data from jdbc
                (TorqueJDBCTransforTask). Now you can get the data for one
                schema instead of the whole database. (only effects oracle)<br/>
                patch by Dan Bachelder (chowda@chowda.net)
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/task/TorqueJDBCTransformTask.java.diff?r1=1.4&amp;r2=1.5&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
            <strong>7 Nov 2001</strong>
            <ul>
              <li>
                Using log4j correctly now instead of trying to fudge the
                Category to use for logging. Property log4j configurations are
                now required and there is no "default" category. All
                categories are based on the name of the class using the category.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.29&amp;r2=1.30&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Added DOUBLE as a valid type for a column in a datamodel
                descriptor. <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/dtd/database.dtd.diff?r1=1.5&amp;r2=1.6&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Fixed the TorqueDataDTDTask.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/data/Control.vm.diff?r1=1.1&amp;r2=1.3&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Fixed the TorqueDataDumpTask.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/data/dump/Control.vm.diff?r1=1.1&amp;r2=1.2&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>6 Nov 2001</strong>
            <ul>
              <li>
                Fixed the IDBroker so that it would work correctly with
                PostgreSQL. <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/oid/IDBroker.java.diff?r1=1.8&amp;r2=1.9&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Simplified the DBFactory and the Torque.properties file by
                eliminating the requirement of the adapter properties. The
                adapters are stored by JDBC driver name and that is already
                defined in the torque.database.{db}.driver property.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/adapter/DBFactory.java.diff?r1=1.14&amp;r2=1.15&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
        </ul>
      </p>
    </section>
  </body>
</document>
