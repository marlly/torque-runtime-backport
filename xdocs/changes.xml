<?xml version="1.0"?>

<document>

  <properties>
    <title>Torque</title>
    <author email="jvanzyl@apache.com">Jason van Zyl</author>
    <author email="mpoeschl@marmot.at">Martin Poeschl</author>
  </properties>

  <body>

    <section name="Changes">
      <p>
        <ul>

          <!-- template
          <li>
            <strong></strong>
            <ul>
              <li>
                <a href="">Reference</a>.
              </li>
            </ul>
          </li>
          -->

          <li>
            <strong>28 Jan 2002</strong>
            <ul>
              <li>
                Using JAXP api.  Lost feature of conditional validation.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/transform/XmlToAppData.java.diff?r1=1.9&amp;r2=1.10">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/transform/XmlToData.java.diff?r1=1.2&amp;r2=1.3">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/rttest/id-table-schema.xml.diff?r1=1.1&amp;r2=1.2">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/schema/id-table-schema.xml.diff?r1=1.3&amp;r2=1.4">Reference</a>.
              </li>
              <li>
                Moved to Xerces2.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/build-test.diff?r1=1.21&amp;r2=1.22">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/build.diff?r1=1.30&amp;r2=1.31">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/default.properties.diff?r1=1.14&amp;r2=1.15">Reference</a>.
              </li>
            </ul>
          </li>

          <li>
            <strong>20 Jan 2002</strong>
            <ul>
              <li>
                Made SqlEnum implement Serializable (to facilitate
                easy HttpSession serialization).
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/util/SqlEnum.java.diff?r1=1.3&amp;r2=1.4">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>18 Dec 2001</strong>
            <ul>
              <li>
                add 'description' attribute to &lt;table&gt; and &lt;column&gt;
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/dtd/database.dtd.diff?r1=1.7&amp;r2=1.8&amp;sortby=date&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/model/Column.java.diff?r1=1.15&amp;r2=1.16&amp;sortby=date&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/model/Table.java.diff?r1=1.19&amp;r2=1.20&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Added TorqueDocumentationTask to generate schema docs in html or xml (anakia)
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/task/TorqueDocumentationTask.java?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/Control.vm?rev=1.2&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/html/datamodel.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/html/table.vm?rev=1.2&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/anakia/datamodel.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/doc/anakia/table.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/conf/build.xml.diff?r1=1.20&amp;r2=1.21&amp;sortby=date&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/conf/build.properties.diff?r1=1.7&amp;r2=1.8&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>14 Dec 2001</strong>
            <ul>
              <li>
	        From patch submitted by Byron Foster:  Updated DBFactory to know about the other Sybase jdbc driver name.
	        <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/adapter/DBFactory.java.diff?r1=1.18&amp;r2=1.19&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
              <li>
	        From patch submitted by Byron Foster:  Sybase is not fully jdbc 2.0 compliant, so the TorqueDataDumpTask.TableTool needed to be reimplemented using Village.
                This provided support for any jdbc driver that Village supports ( and Torque since it is currently implemented with Village ).  The downside to this implementation is QueryDataSet
                loads the entire result set into memory, so for large tables this may prove to be trouble.
	        <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/task/TorqueDataDumpTask.java.diff?r1=1.5&amp;r2=1.6&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                From patch submitted by Byron Foster:  Added missing pieces of sybase support to the repository and created a sybase-status document in notes.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/sybase/">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/db-init/sybase/createdb.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/profile/sybase.profile?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/notes/sybase-status.txt?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>13 Dec 2001</strong>
            <ul>
              <li>
                added flag to shut off heavy indexing on a table by table basis or for the entire schema.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/dtd/database.dtd.diff?r1=1.6&amp;r2=1.7&amp;sortby=date&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/model/Database.java.diff?r1=1.7&amp;r2=1.8&amp;sortby=date&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>9 Dec 2001</strong>
            <ul>
              <li>
                Modified Peer classes so that they can be unserialized prior
                to Torque being initialized.  This situation occurs when
                restarting catalina for example.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.40&amp;r2=1.41&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/util/BasePeer.java.diff?r1=1.18&amp;r2=1.19&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/om/Peer.vm.diff?r1=1.11&amp;r2=1.12&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                deprecated getTable and get&lt;columnName&gt; methods in MapBuilder.vm
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/om/MapBuilder.vm.diff?r1=1.5&amp;r2=1.6&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>6 Dec 2001</strong>
            <ul>
              <li>
                consolidated all Class member initializations methods in
                generated peers into a single method, and improved the
                error handling and reporting of that method.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/om/Peer.vm.diff?r1=1.10&amp;r2=1.11&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                add oracle suport for DataSQLTask
                patch by Dan.Everton@Australia.Boeing.com
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/oracle/row.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/oracle/val.vm?rev=1.1&amp;content-type=text/vnd.viewcvs-markup">Reference</a>.
              </li>
              <li>
                fixed path problems in TorqueDataSQLTask
                patch by Dan.Everton@Australia.Boeing.com
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/task/TorqueDataSQLTask.java.diff?r1=1.5&amp;r2=1.6&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>16 Nov 2001</strong>
            <ul>
              <li>
                used db specific templates for data SQL generation
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/hypersonic/row.vm.diff?r1=1.1&amp;r2=1.2&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/mssql/row.vm.diff?r1=1.1&amp;r2=1.2&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/load/postgresql/row.vm.diff?r1=1.1&amp;r2=1.2&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>15 Nov 2001</strong>
            <ul>
              <li>
                fixing SQL generation problem where a table has no primary key
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/base/mysql/table.vm.diff?r1=1.2&amp;r2=1.3&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/sql/base/mysql/primarykey.vm.diff?r1=1.2&amp;r2=1.3&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/engine/database/model/Table.java.diff?r1=1.16&amp;r2=1.17&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                removed the use of non-functional double-checked locking in
                Torque.getDatabaseMap(String). <br/>
                made Torque.initDatabaseMap(String) more robust by copying the
                existing HashMap dbMaps to avoid possible CMEs.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.39&amp;r2=1.40&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>12 Nov 2001</strong>
            <ul>
              <li>
                Made the driver -> adapter map complete. Thanks to
                Hugh Brien for spotting the problem.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/adapter/DBFactory.java.diff?r1=1.15&amp;r2=1.16&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Added support for Cloudscape. Thanks to David Sean Taylor from
                the Jetspeed group.
              </li>
            </ul>
          </li>
          <li>
            <strong>11 Nov 2001</strong>
            <ul>
              <li>
                Cleaned up the initialization sequence too allow a common
                pattern for stand-alone and embedded usage.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.37&amp;r2=1.38&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>8 Nov 2001</strong>
            <ul>
              <li>
                Remove get/setCategory(c) in Torque.java and updated all
                classes that relied on these methods to instantiate their
                own Category for logging.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.32&amp;r2=1.33&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/pool/DBConnection.java.diff?r1=1.4&amp;r2=1.5&amp;diff_format=h">Reference</a>.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/util/Criteria.java.diff?r1=1.7&amp;r2=1.8&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Merged the init() and init2() methods together. We will
                still search in the "services.DatabaseService" namespace
                until Scarab switches over to using the "torque" namespace.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.31&amp;r2=1.32&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Added support to specify the schema used to get data from jdbc
                (TorqueJDBCTransforTask). Now you can get the data for one
                schema instead of the whole database. (only effects oracle)<br/>
                patch by Dan Bachelder (chowda@chowda.net)
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/task/TorqueJDBCTransformTask.java.diff?r1=1.4&amp;r2=1.5&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
            <strong>7 Nov 2001</strong>
            <ul>
              <li>
                Using log4j correctly now instead of trying to fudge the
                Category to use for logging. Property log4j configurations are
                now required and there is no "default" category. All
                categories are based on the name of the class using the category.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/Torque.java.diff?r1=1.29&amp;r2=1.30&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Added DOUBLE as a valid type for a column in a datamodel
                descriptor. <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/dtd/database.dtd.diff?r1=1.5&amp;r2=1.6&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Fixed the TorqueDataDTDTask.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/data/Control.vm.diff?r1=1.1&amp;r2=1.3&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Fixed the TorqueDataDumpTask.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/templates/data/dump/Control.vm.diff?r1=1.1&amp;r2=1.2&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>6 Nov 2001</strong>
            <ul>
              <li>
                Fixed the IDBroker so that it would work correctly with
                PostgreSQL. <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/oid/IDBroker.java.diff?r1=1.8&amp;r2=1.9&amp;diff_format=h">Reference</a>.
              </li>
              <li>
                Simplified the DBFactory and the Torque.properties file by
                eliminating the requirement of the adapter properties. The
                adapters are stored by JDBC driver name and that is already
                defined in the torque.database.{db}.driver property.
                <a href="http://cvs.apache.org/viewcvs/jakarta-turbine-torque/src/java/org/apache/torque/adapter/DBFactory.java.diff?r1=1.14&amp;r2=1.15&amp;diff_format=h">Reference</a>.
              </li>
            </ul>
          </li>
          <li>
            <strong>30 Dec 2001</strong>
            <ul>
              <li>
                The javadocs are now included with the distribution. The
                "dist" target will now produce the standard zip file with the addition of
                a docs/api directory.
              </li>
            </ul>
          </li>
        </ul>
      </p>
    </section>
  </body>
</document>
