<?xml version="1.0"?>
<!--
 Copyright 2001-2005 The Apache Software Foundation.

 Licensed under the Apache License, Version 2.0 (the "License")
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<document>

  <properties>
    <title>Torque</title>
    <author email="mpoeschl@marmot.at">Martin Poeschl</author>
    <author email="seade@backstagetech.com.au">Scott Eade</author>
  </properties>

  <body>

<section name="Newer Changes">
<p>
   Starting with the Torque 3.0-B3 release, we keep our changes in the
   <a href="changes-report.html">Maven Changes file</a>.
</p>
</section>
<section name="Changes">
      <p>
        <ul>
          <li>
            <strong>16 Apr 2002</strong>
            <ul>
              <li>
                Use JCS instead of stratum.JCS and
                commons.configuration instead of
                stratum.configuration. (ks)
              </li>
            </ul>
          </li>
          <li>
            <strong>17 Mar 2002</strong>
            <ul>
              <li>
                Fix from Bill Schneider (bschneider NOSPAM vecna.com)
                to correct date handling in the DBOracle database
                adapter. (dlr)
              </li>
            </ul>
          </li>

          <li>
            <strong>07 Mar 2002</strong>
            <ul>
              <li>
                Modified the Oracle db.props to set the VARBINARY type
                to BLOB because Oracle requires a length limit for RAW.
                Suggestion by: thierry.lach NOSPAM pentamark.com on the
                Scarab mailing list.
              </li>
            </ul>
          </li>

          <li>
            <strong>01 Mar 2002</strong>
            <ul>
              <li>
                Modified most places that torque was throwing the general
                exception in favor of TorqueException
              </li>
            </ul>
          </li>

          <li>
            <strong>21 Feb 2002</strong>
            <ul>
              <li>
                Handling of object data no longer needs to be wrapped in a
                transaction when the Postgres bytea type is used instead of the
                oid hack for the JDBC type VARBINARY.
              </li>
              <li>
                Deprecated DB.objectDataNeedsTrans(). Postgres was the only
                RDBMS using the objectDataNeedsTrans() method.
              </li>
              <li>
                Removed use of objectDataNeedsTrans() in BasePeer
              </li>
              <li>
                Added load-templates for SAPDB
              </li>
            </ul>
          </li>

          <li>
            <strong>16 Feb 2002</strong>
            <ul>
              <li>
                Fix TorqueDataSQLTask (Column names were not generated)
              </li>
              <li>
                Fix Path handling in TorqueSQLExec task
              </li>
              <li>
                Better mapping of binary data types for Postgres
              </li>
            </ul>
          </li>

          <li>
            <strong>12 Feb 2002</strong>
            <ul>
              <li>
                made Category static so that Criteria can be serialized
              </li>
            </ul>
          </li>

          <li>
            <strong>6 Feb 2002</strong>
            <ul>
              <li>
                Make Torque implement Configurable and Initializeable (stratum)
              </li>
              <li>
                Use the stratum.configuration package instead of ExtendedProperties
              </li>
            </ul>
          </li>

          <li>
            <strong>28 Jan 2002</strong>
            <ul>
              <li>
                Using JAXP api.  Lost feature of conditional validation.
              </li>
              <li>
                Moved to Xerces2.
              </li>
            </ul>
          </li>

          <li>
            <strong>20 Jan 2002</strong>
            <ul>
              <li>
                Made SqlEnum implement Serializable (to facilitate
                easy HttpSession serialization).
              </li>
            </ul>
          </li>
          <li>
            <strong>18 Dec 2001</strong>
            <ul>
              <li>
                add 'description' attribute to &lt;table&gt; and &lt;column&gt;
              </li>
              <li>
                Added TorqueDocumentationTask to generate schema docs in html or xml (anakia)
              </li>
            </ul>
          </li>
          <li>
            <strong>14 Dec 2001</strong>
            <ul>
              <li>
            From patch submitted by Byron Foster:  Updated DBFactory to know about the other Sybase jdbc driver name.
              </li>
              <li>
            From patch submitted by Byron Foster:  Sybase is not fully jdbc 2.0 compliant, so the TorqueDataDumpTask.TableTool needed to be reimplemented using Village.
                This provided support for any jdbc driver that Village supports ( and Torque since it is currently implemented with Village ).  The downside to this implementation is QueryDataSet
                loads the entire result set into memory, so for large tables this may prove to be trouble.
              </li>
              <li>
                From patch submitted by Byron Foster:  Added missing pieces of sybase support to the repository and created a sybase-status document in notes.
              </li>
            </ul>
          </li>
          <li>
            <strong>13 Dec 2001</strong>
            <ul>
              <li>
                added flag to shut off heavy indexing on a table by table basis or for the entire schema.
              </li>
            </ul>
          </li>
          <li>
            <strong>9 Dec 2001</strong>
            <ul>
              <li>
                Modified Peer classes so that they can be unserialized prior
                to Torque being initialized.  This situation occurs when
                restarting catalina for example.
              </li>
              <li>
                deprecated getTable and get&lt;columnName&gt; methods in MapBuilder.vm
              </li>
            </ul>
          </li>
          <li>
            <strong>6 Dec 2001</strong>
            <ul>
              <li>
                consolidated all Class member initializations methods in
                generated peers into a single method, and improved the
                error handling and reporting of that method.
              </li>
              <li>
                add oracle suport for DataSQLTask
                patch by Dan.Everton@Australia.Boeing.com
              </li>
              <li>
                fixed path problems in TorqueDataSQLTask
                patch by Dan.Everton@Australia.Boeing.com
              </li>
            </ul>
          </li>
          <li>
            <strong>16 Nov 2001</strong>
            <ul>
              <li>
                used db specific templates for data SQL generation
              </li>
            </ul>
          </li>
          <li>
            <strong>15 Nov 2001</strong>
            <ul>
              <li>
                fixing SQL generation problem where a table has no primary key
              </li>
              <li>
                removed the use of non-functional double-checked locking in
                Torque.getDatabaseMap(String). <br/>
                made Torque.initDatabaseMap(String) more robust by copying the
                existing HashMap dbMaps to avoid possible CMEs.
              </li>
            </ul>
          </li>
          <li>
            <strong>12 Nov 2001</strong>
            <ul>
              <li>
                Made the driver -> adapter map complete. Thanks to
                Hugh Brien for spotting the problem.
              </li>
              <li>
                Added support for Cloudscape. Thanks to David Sean Taylor from
                the Jetspeed group.
              </li>
            </ul>
          </li>
          <li>
            <strong>11 Nov 2001</strong>
            <ul>
              <li>
                Cleaned up the initialization sequence too allow a common
                pattern for stand-alone and embedded usage.
              </li>
            </ul>
          </li>
          <li>
            <strong>8 Nov 2001</strong>
            <ul>
              <li>
                Remove get/setCategory(c) in Torque.java and updated all
                classes that relied on these methods to instantiate their
                own Category for logging.
              </li>
              <li>
                Merged the init() and init2() methods together. We will
                still search in the "services.DatabaseService" namespace
                until Scarab switches over to using the "torque" namespace.
              </li>
              <li>
                Added support to specify the schema used to get data from jdbc
                (TorqueJDBCTransforTask). Now you can get the data for one
                schema instead of the whole database. (only effects oracle)<br/>
                patch by Dan Bachelder (chowda@chowda.net)
              </li>
            </ul>
            <strong>7 Nov 2001</strong>
            <ul>
              <li>
                Using log4j correctly now instead of trying to fudge the
                Category to use for logging. Property log4j configurations are
                now required and there is no "default" category. All
                categories are based on the name of the class using the category.
              </li>
              <li>
                Added DOUBLE as a valid type for a column in a datamodel
                descriptor.
              </li>
              <li>
                Fixed the TorqueDataDTDTask.
              </li>
              <li>
                Fixed the TorqueDataDumpTask.
              </li>
            </ul>
          </li>
          <li>
            <strong>6 Nov 2001</strong>
            <ul>
              <li>
                Fixed the IDBroker so that it would work correctly with
                PostgreSQL.
              </li>
              <li>
                Simplified the DBFactory and the Torque.properties file by
                eliminating the requirement of the adapter properties. The
                adapters are stored by JDBC driver name and that is already
                defined in the torque.database.{db}.driver property.
              </li>
            </ul>
          </li>
        </ul>
      </p>
    </section>
  </body>
</document>
