<?xml version="1.0" encoding="ISO-8859-1" standalone="no" ?>
<!DOCTYPE database SYSTEM "http://jakarta.apache.org/turbine/dtd/database.dtd">


<database name="bookstore">  
  
  <!-- =================================================== -->
  <!-- B O O K  T A B L E                                  -->
  <!-- =================================================== -->
  
  <table name="book" idMethod="idbroker">
    <column 
      name="book_id" 
      required="true" 
      primaryKey="true" 
      type="INTEGER"
    />
    <column 
      name="isbn_id" 
      required="true" 
      type="INTEGER"
    />
    <column 
      name="author_id"
      required="true" 
      type="INTEGER"
    />
    <column 
      name="title_id"
      required="true" 
      type="INTEGER"
    />
    
    <foreign-key foreignTable="isbn">
      <reference local="isbn_id" foreign="isbn_id"/>
    </foreign-key>
    
    <foreign-key foreignTable="author">
      <reference local="author_id" foreign="author_id"/>
    </foreign-key>
    
    <foreign-key foreignTable="title">
      <reference local="title_id" foreign="title_id"/>
    </foreign-key>
  </table>

  <!-- =================================================== -->
  <!-- I S B N  T A B L E                                  -->
  <!-- =================================================== -->
  
  <table name="isbn" idMethod="idbroker">
    <column 
      name="isbn_id" 
      required="true" 
      primaryKey="true" 
      type="INTEGER"
    />
    
    <foreign-key foreignTable="book">
      <reference local="isbn_id" foreign="isbn_id"/>
    </foreign-key>
  </table>

  <!-- =================================================== -->
  <!-- A U T H O R  T A B L E                              -->
  <!-- =================================================== -->

  <table name="author" idMethod="idbroker">
    <column 
      name="author_id" 
      required="true" 
      primaryKey="true" 
      type="INTEGER"
    />
    
    <foreign-key foreignTable="book">
      <reference local="author_id" foreign="author_id"/>
    </foreign-key>
  </table>

  <!-- =================================================== -->
  <!-- T I T L E  T A B L E                                -->
  <!-- =================================================== -->

  <table name="title" idMethod="idbroker">
    <column 
      name="title_id" 
      required="true" 
      primaryKey="true" 
      type="INTEGER"
    />
    
    <foreign-key foreignTable="book">
      <reference local="title_id" foreign="title_id"/>
    </foreign-key>
  </table>

</database>  
